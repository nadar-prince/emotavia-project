{% extends "base.html" %}

{% block content %}

<!-- HERO -->
    <section class="hero">
        <h1>Project Emotavia</h1>
        <p>where emotions find space, support, and safety.</p>
    </section>

{% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-container">
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

<script>
    // Hide flash messages after 5 seconds
    setTimeout(() => {
        document.querySelectorAll(".flash-message").forEach(el => {
            el.style.transition = "opacity 0.8s ease";
            el.style.opacity = "0";

            // Remove the element after fade-out
            setTimeout(() => el.remove(), 800);
        });
    }, 2000);
</script>

<div class="container login-container">
    <div class="login-form">
        <h2>Login to Your Account</h2>

        <!-- Login Form -->
        <form action="/userlogin" method="POST">
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" placeholder="Enter your username" required>

            <label for="password">Password:</label>
            <div class="password-container-login">
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
                <img src="/static/eye.png" class="toggle-password" onclick="togglePassword('password', this)" alt="">
            </div>

            <button type="submit">Login</button>

            <p class="signup-link">New User? <a href="/usersignup">Sign Up</a></p>
        </form>
    </div>
</div>


{% endblock %}

{% extends "base.html" %}

{% block content %}

<!-- HERO -->
<section class="hero">
    <h1>Project Emotavia</h1>
    <p>where emotions find space, support, and safety.</p>
</section>

{% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="flash-container">
          {% for category, message in messages %}
            <div class="flash-message {{ category }}">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

<script>
    // Hide flash messages after 5 seconds
    setTimeout(() => {
        document.querySelectorAll(".flash-message").forEach(el => {
            el.style.transition = "opacity 0.8s ease";
            el.style.opacity = "0";

            // Remove the element after fade-out
            setTimeout(() => el.remove(), 800);
        });
    }, 2000);
</script>

<div class="container signup-container">
    <div class="signup-form">
        <h2>Create Your Account</h2>

        <form id="signup-form" action="/usersignup" method="POST">
            <!-- Name Field -->
            <label for="name">Name:</label>
            <input type="text" id="name" name="name" placeholder="Enter your name" required>
            <div class="error" id="name-error"></div> <!-- Error for name -->

            <!-- Gender Field -->
            <label for="gender">Gender:</label>
            <select id="gender" name="gender" required>
                <option value="male">Male</option>
                <option value="female">Female</option>
                <option value="other">Other</option>
            </select>

            <!-- Language Field -->
            <label for="language">Language:</label>
            <select id="language" name="language" required>
                <option value="english">English</option>
                <option value="hindi">Hindi</option>
                <option value="marathi">Marathi</option>
            </select>

            <!-- Phone Field -->
            <label for="phone">Phone No.:</label>
            <input type="tel" id="phone" name="phone" placeholder="Enter your phone number" required>
            <div class="error" id="phone-error"></div> <!-- Error for phone -->

            <!-- Email Field -->
            <label for="email">Email ID:</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>
            <div class="error" id="email-error"></div> <!-- Error for email -->

            <!-- Username Field -->
            <label for="username">Username:</label>
            <input type="text" id="username" name="username" placeholder="Choose a username" required>
            <div class="error" id="username-error"></div> <!-- Error for username -->


            <!-- Password Field -->
            <label for="password">Password:</label>
            <div class="password-container">
                <input type="password" id="password" name="password" placeholder="Enter your password" required>
                <img src="/static/eye.png" class="toggle-password" onclick="togglePassword('password', this)" alt="">
            </div>
            <div class="error" id="password-error"></div>

            <!-- Confirm Password Field -->
            <label for="confirm_password">Confirm Password:</label>
            <div class="password-container">
                <input type="password" id="confirm_password" name="confirm_password" placeholder="Confirm your password" required>
                <img src="/static/eye.png" class="toggle-password" onclick="togglePassword('confirm_password', this)" alt="">
            </div>
            <div class="error" id="confirm-password-error"></div>


            <button type="submit">Sign Up</button>
        </form>
    </div>
</div>

{% endblock %}
